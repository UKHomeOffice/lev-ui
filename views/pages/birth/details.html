{% extends "details-template.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "hmpo-submit/macro.njk" import hmpoSubmit %}

{% set hmpoPageKey = "birth.detailsPage" %}
{% set govukServiceNameKey = translate("pages.birth.serviceName") %}
{% set govukServiceUrl = "/birth" %}

{% set record = results[0] %}
{% set hmpoTitle -%}
    {{ record.child.forenames }} {{ record.child.surname }} {{ record.child.dateOfBirth | date("DD/MM/YYYY")}}
{%- endset %}

{% block mainContent %}
    {{ super() }}

    {{ govukTable({
        classes: "details",
        firstCellIsHeader: true,
        rows: [
            [
                { text: "System number" },
                { text: record.id }
            ],
            [
                { text: "Child", colspan: 2, classes: "section-head" }
            ],
            [
                { text: "Surname" },
                { text: record.child.surname }
            ],
            [
                { text: "Forename(s)" },
                { text: record.child.forenames }
            ],
            [
                { text: "Date of birth" },
                { text: record.child.dateOfBirth | date("DD/MM/YYYY") }
            ],
            [
                { text: "Sex" },
                { text: record.child.sex }
            ],
            [
                { text: "Place of birth" },
                { text: record.child.birthplace }
            ],
            [
                { text: "Mother", colspan: 2, classes: "section-head" }
            ],
            [
                { text: "Name" },
                { text: record.mother.forenames + " " + record.mother.surname }
            ],
            [
                { text: "Maiden Name" },
                { text: record.mother.maidenSurname }
            ],
            [
                { text: "Surname at marriage if different from maiden name" },
                { text: record.mother.marriageSurname }
            ],
            [
                { text: "Place of birth" },
                { text: record.mother.birthplace }
            ],
            [
                { text: "Father / Parent", colspan: 2, classes: "section-head" }
            ],
            [
                { text: "Name" },
                { text: record.father.forenames + " " + record.father.surname }
            ],
            [
                { text: "Place of birth" },
                { text: record.father.birthplace }
            ],
            [
                { text: "Registration", colspan: 2, classes: "section-head" }
            ],
            [
                { text: "Birth registered by" },
                { text: [record.informant1.qualification, record.informant2.qualification] | filter | join(", ") }
            ],
            [
                { text: "Registration district" },
                { text: record.registrar.district }
            ],
            [
                { text: "Sub-district" },
                { text: record.registrar.subdistrict }
            ],
            [
                { text: "Administrative area" },
                { text: record.registrar.administrativeArea }
            ],
            [
                { text: "Date of registration" },
                { text: record.date | date("DD/MM/YYYY") }
            ]
        ]
    }) }}

    <div class="govuk-button-group">
        {{ hmpoSubmit(ctx, {key: "newSearch", href: "/"}) }}
        {{ hmpoSubmit(ctx, {key: "editSearch", classes: "blue", href: "/"}) }}
        {{ hmpoSubmit(ctx, {
            key: "backToResults",
            classes: "grey",
            href: "/results"
        }) }}
    </div>
{% endblock %}
