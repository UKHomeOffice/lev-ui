{% extends "app-template.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "components/pagination.njk" import pagination %}
{% from "components/users-table.njk" import usersTable %}

{% set govukServiceNameKey = translate("pages.user-management.serviceName") %}
{% set govukServiceTitleKey = translate("pages.user-management.teamPage.pageTitle") %}
{% set hmpoPageKey = "user-management.teamPage" %}
{% set govukServiceUrl = "/admin/organisations" %}

{% block hmpoContent %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    {% block mainContent %}

    <span class="govuk-caption-m">{{teamInfo.team.organisation.organisationName}}</span>
    <h1>{{teamInfo.team.teamName}}</h1>
    <h2>Search permissions</h2>

    {% set teamsArray = [] %}

    {% for key, value in teamInfo.roles %}
      {% set rowArray = [] %}
      {% set rowArray = (rowArray.push( { text: key | title }, { text: value } ), rowArray) %}
      {% set teamsArray = (teamsArray.push(rowArray), teamsArray) %}
    {% endfor %}

    <div>
      {{ govukTable({
      classes: "audit",
      firstCellIsHeader: false,
      head: [{ text: "Search type" }, { text: "Permission" }],
      rows: teamsArray
      }) }}
    </div>

    {% endblock %}
  </div>
</div>
{% endblock %}
